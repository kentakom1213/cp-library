#![allow(non_snake_case)]

use cp_library_rs::data_structure::segmented_sieve::segmented_sieve;

#[test]
fn test_small() {
    assert_eq!(segmented_sieve(0, 0), vec![]);
    assert_eq!(segmented_sieve(0, 1), vec![]);
    assert_eq!(segmented_sieve(0, 2), vec![]);
    assert_eq!(segmented_sieve(0, 3), vec![2]);
    assert_eq!(segmented_sieve(0, 4), vec![2, 3]);
    assert_eq!(segmented_sieve(5, 6), vec![5]);
    assert_eq!(segmented_sieve(7, 7), vec![]);
    assert_eq!(segmented_sieve(7, 8), vec![7]);
}

#[test]
fn test_medium() {
    assert_eq!(
        segmented_sieve(100_000_000, 100_001_000),
        vec![
            100000007, 100000037, 100000039, 100000049, 100000073, 100000081, 100000123, 100000127,
            100000193, 100000213, 100000217, 100000223, 100000231, 100000237, 100000259, 100000267,
            100000279, 100000357, 100000379, 100000393, 100000399, 100000421, 100000429, 100000463,
            100000469, 100000471, 100000493, 100000541, 100000543, 100000561, 100000567, 100000577,
            100000609, 100000627, 100000643, 100000651, 100000661, 100000669, 100000673, 100000687,
            100000717, 100000721, 100000793, 100000799, 100000801, 100000837, 100000841, 100000853,
            100000891, 100000921, 100000937, 100000939, 100000963, 100000969
        ]
    );

    assert_eq!(
        segmented_sieve(200_000_000, 200_001_000),
        vec![
            200000033, 200000039, 200000051, 200000069, 200000081, 200000083, 200000089, 200000093,
            200000107, 200000117, 200000123, 200000131, 200000161, 200000183, 200000201, 200000209,
            200000221, 200000237, 200000239, 200000243, 200000299, 200000321, 200000329, 200000347,
            200000377, 200000399, 200000417, 200000431, 200000447, 200000453, 200000477, 200000483,
            200000491, 200000513, 200000527, 200000531, 200000543, 200000551, 200000579, 200000677,
            200000719, 200000729, 200000777, 200000797, 200000803, 200000819, 200000831, 200000833,
            200000863, 200000881, 200000891, 200000917, 200000929, 200000987, 200000989
        ]
    );

    assert_eq!(
        segmented_sieve(300_000_000, 300_001_000),
        vec![
            300000007, 300000031, 300000047, 300000089, 300000119, 300000137, 300000149, 300000167,
            300000251, 300000277, 300000317, 300000319, 300000353, 300000383, 300000397, 300000413,
            300000419, 300000451, 300000461, 300000497, 300000517, 300000521, 300000529, 300000539,
            300000541, 300000553, 300000559, 300000587, 300000619, 300000629, 300000641, 300000653,
            300000667, 300000689, 300000691, 300000739, 300000791, 300000793, 300000817, 300000839,
            300000851, 300000881, 300000889, 300000893, 300000901, 300000913, 300000917, 300000947,
            300000959, 300000991, 300000997
        ]
    );

    assert_eq!(
        segmented_sieve(400_000_000, 400_001_000),
        vec![
            400000009, 400000043, 400000049, 400000067, 400000079, 400000091, 400000109, 400000151,
            400000171, 400000189, 400000193, 400000261, 400000283, 400000301, 400000309, 400000333,
            400000357, 400000373, 400000411, 400000457, 400000477, 400000499, 400000511, 400000543,
            400000553, 400000583, 400000619, 400000631, 400000639, 400000649, 400000651, 400000669,
            400000709, 400000753, 400000759, 400000789, 400000829, 400000841, 400000873, 400000877,
            400000883, 400000907, 400000927, 400000933, 400000949
        ]
    );
}
